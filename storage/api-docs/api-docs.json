{
    "openapi": "3.0.0",
    "info": {
        "title": "API OleoControl",
        "description": "Documentación de la API de la aplicación OleoControl",
        "version": "1.0.0"
    },
    "paths": {
        "/api/login": {
            "post": {
                "tags": [
                    "Autenticación"
                ],
                "summary": "Iniciar sesión",
                "description": "Autentica a un usuario usando su nombre de usuario y contraseña. Devuelve un token de acceso si las credenciales son válidas y el usuario está activo.",
                "operationId": "dcf90ce65219b0ad51fc32e9f7f69843",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "username",
                                    "password"
                                ],
                                "properties": {
                                    "username": {
                                        "type": "string",
                                        "example": "juan123"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "Password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Inicio de sesión exitoso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "access_token": {
                                            "type": "string",
                                            "example": "1|X9N..."
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        },
                                        "user": {
                                            "description": "Información del usuario autenticado",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Credenciales incorrectas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Credenciales incorrectas."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Cuenta desactivada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Esta cuenta está desactivada."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/logout": {
            "post": {
                "tags": [
                    "Autenticación"
                ],
                "summary": "Cerrar sesión",
                "description": "Cierra la sesión del usuario autenticado eliminando el token.",
                "operationId": "2a5c5c6e21dd0583f5d700d2f707f03f",
                "responses": {
                    "200": {
                        "description": "Logout exitoso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Logout exitoso"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado, token inválido o expirado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Token inválido o expirado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Acceso denegado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Acceso denegado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/users": {
            "get": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Obtener todos los usuarios",
                "description": "Devuelve una lista de todos los usuarios registrados en la base de datos.",
                "operationId": "d64c69c227bcaa94189f8552f9336c55",
                "responses": {
                    "200": {
                        "description": "Lista de usuarios obtenida exitosamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "id": {
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "name": {
                                                "type": "string",
                                                "example": "Juan Pérez"
                                            },
                                            "email": {
                                                "type": "string",
                                                "example": "juan.perez@ejemplo.com"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado. Se requiere autenticación.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Token de autenticación no válido o no proporcionado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Crear un nuevo usuario",
                "description": "Crea un nuevo usuario, generando un nombre de usuario y contraseña aleatoria, asignando un rol y enviando un correo de bienvenida con la nueva contraseña.",
                "operationId": "2f6b710ccf70f78635cbbc0c6ad912b4",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "first_name",
                                    "last_name",
                                    "dni",
                                    "email",
                                    "phone",
                                    "status",
                                    "user_type"
                                ],
                                "properties": {
                                    "first_name": {
                                        "type": "string",
                                        "example": "Juan"
                                    },
                                    "last_name": {
                                        "type": "string",
                                        "example": "Pérez"
                                    },
                                    "dni": {
                                        "type": "string",
                                        "example": "12345678Z"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "juan.perez@ejemplo.com"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "123456789"
                                    },
                                    "status": {
                                        "type": "string",
                                        "example": "active"
                                    },
                                    "user_type": {
                                        "type": "string",
                                        "example": "Socio"
                                    },
                                    "department_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Usuario creado exitosamente.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/UserResource"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Solicitud incorrecta, falta algún dato requerido.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El campo department_id es obligatorio para empleados."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado. Se requiere autenticación de administrador.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Acceso denegado."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No se pudo crear el socio."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/users/{id}": {
            "get": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Obtiene un usuario por ID",
                "description": "Este endpoint permite obtener un usuario específico de la base de datos usando su ID. Solo accesible para administradores autenticados.",
                "operationId": "30f5707ec8261e10e2b930047fcb2f15",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del usuario",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Usuario encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/UserResource"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario no encontrado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Acceso denegado. Se requiere ser administrador.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Acceso denegado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Actualizar un usuario por ID",
                "description": "Este endpoint permite actualizar los detalles de un usuario utilizando su ID. Solo accesible para administradores autenticados.",
                "operationId": "751e48d58ca427e6fa8f0156a0624cec",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del usuario que se desea actualizar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "first_name",
                                    "last_name",
                                    "email",
                                    "phone",
                                    "status"
                                ],
                                "properties": {
                                    "first_name": {
                                        "type": "string",
                                        "example": "Juan"
                                    },
                                    "last_name": {
                                        "type": "string",
                                        "example": "Pérez"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "juan.perez@example.com"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "123456789"
                                    },
                                    "status": {
                                        "type": "string",
                                        "example": "active"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuario actualizado con éxito",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/UserResource"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario no encontrado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Acceso denegado. Se requiere ser administrador.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Acceso denegado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Eliminar un usuario por ID",
                "description": "Este endpoint permite eliminar un usuario utilizando su ID. Solo accesible para administradores autenticados.",
                "operationId": "fae2f13f7866482992f1b2f6f19bfac2",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del usuario que se desea eliminar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Usuario eliminado con éxito",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario eliminado satisfactoriamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario no encontrado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Acceso denegado. Se requiere ser administrador.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Acceso denegado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/profile": {
            "get": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Obtener el perfil del usuario autenticado",
                "description": "Devuelve los datos del usuario que ha iniciado sesión. Requiere autenticación mediante token Bearer.",
                "operationId": "dac4c76b7df10b72f25b69179d78971e",
                "responses": {
                    "200": {
                        "description": "Datos del usuario autenticado obtenidos correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Juan Pérez"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "juan@example.com"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2024-09-01T12:34:56Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "example": "2024-09-20T10:11:12Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Usuario no autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario no autenticado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Actualizar perfil del usuario autenticado",
                "description": "Actualiza los datos del usuario que ha iniciado sesión. Requiere autenticación con token Bearer.",
                "operationId": "40a95f1dc1c81b4006dac2184e06488f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Juan Actualizado"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "nuevo.email@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "nuevaContraseña123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Perfil actualizado correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Juan Actualizado"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "nuevo.email@example.com"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2024-09-01T12:34:56Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "example": "2024-10-01T10:00:00Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación en los datos proporcionados",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "El email ya ha sido registrado"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario no autenticado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "AnalysisResource": {
                "title": "AnalysisResource",
                "description": "Recurso que representa un análisis de aceite",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "analysis_date": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-04-29"
                    },
                    "acidity": {
                        "type": "number",
                        "format": "float",
                        "example": 0.5
                    },
                    "humidity": {
                        "type": "number",
                        "format": "float",
                        "example": 5
                    },
                    "yield": {
                        "type": "number",
                        "format": "float",
                        "example": 0.85
                    },
                    "entry": {
                        "$ref": "#/components/schemas/EntryResource"
                    },
                    "member": {
                        "$ref": "#/components/schemas/MemberResource"
                    },
                    "employee": {
                        "$ref": "#/components/schemas/EmployeeResource"
                    },
                    "oil": {
                        "$ref": "#/components/schemas/OilResource"
                    }
                },
                "type": "object"
            },
            "DepartmentResource": {
                "title": "DepartmentResource",
                "description": "Recurso que representa un departamento",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "IT"
                    }
                },
                "type": "object"
            },
            "EmployeeResource": {
                "title": "EmployeeResource",
                "description": "Recurso que representa un empleado, incluyendo su usuario y el departamento al que pertenece",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "user": {
                        "properties": {
                            "id": {
                                "type": "integer",
                                "example": 1
                            },
                            "username": {
                                "type": "string",
                                "example": "johndoe"
                            },
                            "first_name": {
                                "type": "string",
                                "example": "John"
                            },
                            "last_name": {
                                "type": "string",
                                "example": "Doe"
                            },
                            "dni": {
                                "type": "string",
                                "example": "12345678A"
                            },
                            "email": {
                                "type": "string",
                                "example": "johndoe@example.com"
                            },
                            "phone": {
                                "type": "string",
                                "example": "123456789"
                            },
                            "status": {
                                "type": "string",
                                "example": "active"
                            },
                            "roles": {
                                "type": "array",
                                "items": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "name": {
                                            "type": "string",
                                            "example": "Administrator"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "type": "object"
                    },
                    "department": {
                        "properties": {
                            "id": {
                                "type": "integer",
                                "example": 1
                            },
                            "name": {
                                "type": "string",
                                "example": "HR"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "EntryResource": {
                "title": "EntryResource",
                "description": "Recurso que representa la entrada de aceitunas, incluyendo la cantidad de aceitunas, cantidad de aceite y los detalles del miembro asociado",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "entry_date": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-04-29"
                    },
                    "olive_quantity": {
                        "type": "integer",
                        "example": 100
                    },
                    "oil_quantity": {
                        "type": "integer",
                        "example": 50
                    },
                    "analysis_status": {
                        "type": "string",
                        "example": "pending"
                    },
                    "member": {
                        "properties": {
                            "id": {
                                "type": "integer",
                                "example": 1
                            },
                            "name": {
                                "type": "string",
                                "example": "John Doe"
                            },
                            "member_number": {
                                "type": "string",
                                "example": "12345"
                            },
                            "member_email": {
                                "type": "string",
                                "example": "johndoe@example.com"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "MemberResource": {
                "title": "MemberResource",
                "description": "Recurso que representa la información de un miembro, incluyendo los datos de usuario asociados",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "member_number": {
                        "type": "string",
                        "example": "12345"
                    },
                    "user": {
                        "properties": {
                            "id": {
                                "type": "integer",
                                "example": 1
                            },
                            "username": {
                                "type": "string",
                                "example": "johndoe"
                            },
                            "first_name": {
                                "type": "string",
                                "example": "John"
                            },
                            "last_name": {
                                "type": "string",
                                "example": "Doe"
                            },
                            "dni": {
                                "type": "string",
                                "example": "12345678X"
                            },
                            "email": {
                                "type": "string",
                                "example": "johndoe@example.com"
                            },
                            "phone": {
                                "type": "string",
                                "example": "123456789"
                            },
                            "status": {
                                "type": "string",
                                "example": "active"
                            },
                            "roles": {
                                "type": "array",
                                "items": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 2
                                        },
                                        "name": {
                                            "type": "string",
                                            "example": "Socio"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "OilInventoryResource": {
                "title": "OilInventoryResource",
                "description": "Recurso que representa el inventario de aceite con su información detallada",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "settlement_date": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-04-29"
                    },
                    "quantity": {
                        "type": "integer",
                        "example": 500
                    },
                    "oil": {
                        "properties": {
                            "oil_id": {
                                "type": "integer",
                                "example": 1
                            },
                            "name": {
                                "type": "string",
                                "example": "Aceite de Oliva Virgen Extra"
                            }
                        },
                        "type": "object"
                    },
                    "member": {
                        "properties": {
                            "member_id": {
                                "type": "integer",
                                "example": 2
                            },
                            "name": {
                                "type": "string",
                                "example": "Juan Pérez"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "OilResource": {
                "title": "OilResource",
                "description": "Recurso que representa un aceite con su información detallada",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "Aceite de Oliva Virgen Extra"
                    },
                    "description": {
                        "type": "string",
                        "example": "Aceite de oliva virgen extra de primera prensada en frío."
                    },
                    "price": {
                        "type": "number",
                        "format": "float",
                        "example": 10.99
                    },
                    "photo_url": {
                        "type": "string",
                        "format": "url",
                        "example": "http://example.com/photo.jpg"
                    }
                },
                "type": "object"
            },
            "OilSettlementResource": {
                "title": "OilSettlementResource",
                "description": "Recurso que representa un acuerdo de aceite con su respectivo miembro",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "settlement_date": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-04-29"
                    },
                    "amount": {
                        "type": "number",
                        "format": "float",
                        "example": 150.75
                    },
                    "oil": {
                        "properties": {
                            "oil_id": {
                                "type": "integer",
                                "example": 1
                            },
                            "name": {
                                "type": "string",
                                "example": "Aceite de Oliva Virgen Extra"
                            }
                        },
                        "type": "object"
                    },
                    "member": {
                        "properties": {
                            "member_id": {
                                "type": "integer",
                                "example": 1
                            },
                            "name": {
                                "type": "string",
                                "example": "Juan Pérez"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "RoleResource": {
                "title": "RoleResource",
                "description": "Recurso que representa un rol en el sistema",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "Administrador"
                    }
                },
                "type": "object"
            },
            "SettlementResource": {
                "title": "SettlementResource",
                "description": "Liquidación de aceite realizada a un socio",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "settlement_date": {
                        "type": "string",
                        "format": "date",
                        "example": "2024-04-10"
                    },
                    "settlement_date_res": {
                        "type": "string",
                        "format": "date",
                        "example": "2024-04-15"
                    },
                    "amount": {
                        "type": "number",
                        "format": "float",
                        "example": 500.75
                    },
                    "price": {
                        "type": "number",
                        "format": "float",
                        "example": 3.25
                    },
                    "settlement_status": {
                        "type": "string",
                        "example": "Pagado"
                    },
                    "oil": {
                        "properties": {
                            "oil_id": {
                                "type": "integer",
                                "example": 1
                            },
                            "name": {
                                "type": "string",
                                "example": "Aceite Virgen Extra"
                            },
                            "price": {
                                "type": "number",
                                "format": "float",
                                "example": 4.5
                            }
                        },
                        "type": "object"
                    },
                    "member": {
                        "properties": {
                            "member_id": {
                                "type": "integer",
                                "example": 10
                            },
                            "name": {
                                "type": "string",
                                "example": "Juan Pérez"
                            },
                            "member_number": {
                                "type": "string",
                                "example": "SOC123"
                            },
                            "member_email": {
                                "type": "string",
                                "format": "email",
                                "example": "juan@example.com"
                            }
                        },
                        "type": "object"
                    },
                    "employee": {
                        "properties": {
                            "employee_id": {
                                "type": "integer",
                                "example": 3
                            },
                            "name": {
                                "type": "string",
                                "example": "María García"
                            }
                        },
                        "type": "object",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "UserResource": {
                "title": "UserResource",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "username": {
                        "type": "string",
                        "example": "juan.perez.z"
                    },
                    "first_name": {
                        "type": "string",
                        "example": "Juan"
                    },
                    "last_name": {
                        "type": "string",
                        "example": "Pérez"
                    },
                    "dni": {
                        "type": "string",
                        "example": "12345678Z"
                    },
                    "email": {
                        "type": "string",
                        "example": "juan.perez@ejemplo.com"
                    },
                    "phone": {
                        "type": "string",
                        "example": "123456789"
                    },
                    "status": {
                        "type": "string",
                        "example": "active"
                    },
                    "roles": {
                        "type": "array",
                        "items": {
                            "properties": {
                                "id": {
                                    "type": "integer",
                                    "example": 1
                                },
                                "name": {
                                    "type": "string",
                                    "example": "Socio"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "member": {
                        "properties": {
                            "id": {
                                "type": "integer",
                                "example": 1
                            },
                            "member_number": {
                                "type": "integer",
                                "example": 1001
                            }
                        },
                        "type": "object",
                        "nullable": true
                    },
                    "employee": {
                        "properties": {
                            "id": {
                                "type": "integer",
                                "example": 2
                            },
                            "department": {
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 3
                                    },
                                    "name": {
                                        "type": "string",
                                        "example": "Contabilidad"
                                    }
                                },
                                "type": "object"
                            }
                        },
                        "type": "object",
                        "nullable": true
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "apiKey",
                "description": "Token de autenticación Bearer (usado por Sanctum)",
                "name": "Authorization",
                "in": "header"
            }
        }
    },
    "tags": [
        {
            "name": "Autenticación",
            "description": "Autenticación"
        },
        {
            "name": "Usuarios",
            "description": "Usuarios"
        }
    ]
}